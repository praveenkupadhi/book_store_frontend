{"ast":null,"code":"var _jsxFileName = \"D:\\\\Assignments\\\\Placements\\\\book_store\\\\frontend\\\\src\\\\components\\\\bookStore\\\\BookStore.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { bookDataFetch, cartDataCountRequest, cartDataCountSuccess, cartDataFetchRequest, cartDataFetchSuccess } from \"../redux/actions\";\nimport { SearchBook } from \"./SearchBook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BookStore = () => {\n  _s();\n\n  const filterData = useSelector(store => store.filterData);\n  const loading = useSelector(store => store.loading);\n  const dispatch = useDispatch();\n  const [cookies, setCookies] = useCookies(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    dispatch(bookDataFetch());\n  }, [dispatch]);\n\n  const handleClick = e => {\n    if (cookies.loginToken !== undefined) {\n      axios.post(\"http://localhost:3001/cartUpdate\", {\n        user_id: jwtDecode(cookies.loginToken).user._id,\n        book_id: e.target.id\n      }).then(() => {\n        alert(\"added to cart\");\n      }).catch(error => {\n        if (error.message.split(\" \").pop() !== \"200\") {\n          alert(\"already added to cart\");\n        }\n      });\n    }\n\n    if (cookies.loginToken === undefined) {\n      dispatch(cartDataFetchRequest());\n      dispatch(cartDataFetchSuccess([]));\n      alert(\"login is required\");\n      navigate(\"/login\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchBook, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Book Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filterData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Data Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 8\n        }, this) : filterData.map(book => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: book.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: book.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u20B9\", book.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: book._id,\n                onClick: handleClick,\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 11\n            }, this)]\n          }, book._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 10\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BookStore, \"aGn1uX/boXLHpRRSn0WD12WohN4=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useCookies, useNavigate];\n});\n\n_c = BookStore;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookStore\");","map":{"version":3,"sources":["D:/Assignments/Placements/book_store/frontend/src/components/bookStore/BookStore.jsx"],"names":["axios","jwtDecode","useEffect","useState","useCookies","useDispatch","useSelector","useNavigate","bookDataFetch","cartDataCountRequest","cartDataCountSuccess","cartDataFetchRequest","cartDataFetchSuccess","SearchBook","BookStore","filterData","store","loading","dispatch","cookies","setCookies","navigate","handleClick","e","loginToken","undefined","post","user_id","user","_id","book_id","target","id","then","alert","catch","error","message","split","pop","length","map","book","name","author","price"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router\";\r\nimport {\r\n\tbookDataFetch,\r\n\tcartDataCountRequest,\r\n\tcartDataCountSuccess,\r\n\tcartDataFetchRequest,\r\n\tcartDataFetchSuccess,\r\n} from \"../redux/actions\";\r\nimport { SearchBook } from \"./SearchBook\";\r\n\r\nexport const BookStore = () => {\r\n\tconst filterData = useSelector((store) => store.filterData);\r\n\tconst loading = useSelector((store) => store.loading);\r\n\tconst dispatch = useDispatch();\r\n\tconst [cookies, setCookies] = useCookies(\"\");\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(bookDataFetch());\r\n\t}, [dispatch]);\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tif (cookies.loginToken !== undefined) {\r\n\t\t\taxios\r\n\t\t\t\t.post(\"http://localhost:3001/cartUpdate\", {\r\n\t\t\t\t\tuser_id: jwtDecode(cookies.loginToken).user._id,\r\n\t\t\t\t\tbook_id: e.target.id,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\talert(\"added to cart\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tif (error.message.split(\" \").pop() !== \"200\") {\r\n\t\t\t\t\t\talert(\"already added to cart\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tif (cookies.loginToken === undefined) {\r\n\t\t\tdispatch(cartDataFetchRequest());\r\n\t\t\tdispatch(cartDataFetchSuccess([]));\r\n\t\t\talert(\"login is required\");\r\n\t\t\tnavigate(\"/login\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SearchBook />\r\n\t\t\t{loading ? (\r\n\t\t\t\t<h2>Loading...</h2>\r\n\t\t\t) : (\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Book Name</th>\r\n\t\t\t\t\t\t\t<th>Author</th>\r\n\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t<th>Discount</th>\r\n\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{filterData.length === 0 ? (\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<h3>No Data Found</h3>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tfilterData.map((book) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={book._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{book.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{book.author}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>â‚¹{book.price}</td>\r\n\t\t\t\t\t\t\t\t\t\t{/* <td></td> */}\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<button id={book._id} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd to cart\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}