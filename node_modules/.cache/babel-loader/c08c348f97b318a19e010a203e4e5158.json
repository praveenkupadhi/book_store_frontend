{"ast":null,"code":"var _jsxFileName = \"D:\\\\Assignments\\\\Placements\\\\book_store\\\\frontend\\\\src\\\\components\\\\bookStore\\\\BookStore.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { bookDataFetch } from \"../redux/actions\";\nimport { SearchBook } from \"./SearchBook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BookStore = () => {\n  _s();\n\n  const filterData = useSelector(store => store.filterData);\n  const loading = useSelector(store => store.loading);\n  const dispatch = useDispatch();\n  const [cookies, setCookies] = useCookies(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    dispatch(bookDataFetch());\n  }, [dispatch]);\n\n  const handleClick = e => {\n    if (cookies.loginToken !== undefined) {\n      axios.post(\"http://localhost:3001/cartFind\", {\n        user_id: jwtDecode(cookies.loginToken).user._id\n      }).then(res => {\n        res.data.book_ids.map(book => {\n          axios.post(\"http://localhost:3001\", {\n            book_id: book\n          }).then(res => {\n            dispatch(cartDataSearchRequest());\n            dispatch(cartDataSearchSuccess(res.data));\n          });\n        });\n      });\n    }\n\n    if (cookies.loginToken === undefined) {\n      dispatch(cartDataSearchRequest());\n      dispatch(cartDataSearchSuccess([]));\n      alert(\"login first\");\n      navigate(\"/login\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchBook, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Book Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filterData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Data Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 8\n        }, this) : filterData.map(book => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: book.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: book.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u20B9\", book.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: book._id,\n                onClick: handleClick,\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 11\n            }, this)]\n          }, book._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 10\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BookStore, \"aGn1uX/boXLHpRRSn0WD12WohN4=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useCookies, useNavigate];\n});\n\n_c = BookStore;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookStore\");","map":{"version":3,"sources":["D:/Assignments/Placements/book_store/frontend/src/components/bookStore/BookStore.jsx"],"names":["axios","useEffect","useState","useCookies","useDispatch","useSelector","useNavigate","bookDataFetch","SearchBook","BookStore","filterData","store","loading","dispatch","cookies","setCookies","navigate","handleClick","e","loginToken","undefined","post","user_id","jwtDecode","user","_id","then","res","data","book_ids","map","book","book_id","cartDataSearchRequest","cartDataSearchSuccess","alert","length","name","author","price"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { bookDataFetch } from \"../redux/actions\";\r\nimport { SearchBook } from \"./SearchBook\";\r\n\r\nexport const BookStore = () => {\r\n\tconst filterData = useSelector((store) => store.filterData);\r\n\tconst loading = useSelector((store) => store.loading);\r\n\tconst dispatch = useDispatch();\r\n\tconst [cookies, setCookies] = useCookies(\"\");\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(bookDataFetch());\r\n\t}, [dispatch]);\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tif (cookies.loginToken !== undefined) {\r\n\t\t\taxios\r\n\t\t\t\t.post(\"http://localhost:3001/cartFind\", {\r\n\t\t\t\t\tuser_id: jwtDecode(cookies.loginToken).user._id,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tres.data.book_ids.map((book) => {\r\n\t\t\t\t\t\taxios\r\n\t\t\t\t\t\t\t.post(\"http://localhost:3001\", { book_id: book })\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tdispatch(cartDataSearchRequest());\r\n\t\t\t\t\t\t\t\tdispatch(cartDataSearchSuccess(res.data));\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tif (cookies.loginToken === undefined) {\r\n\t\t\tdispatch(cartDataSearchRequest());\r\n\t\t\tdispatch(cartDataSearchSuccess([]));\r\n\t\t\talert(\"login first\");\r\n\t\t\tnavigate(\"/login\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SearchBook />\r\n\t\t\t{loading ? (\r\n\t\t\t\t<h2>Loading...</h2>\r\n\t\t\t) : (\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Book Name</th>\r\n\t\t\t\t\t\t\t<th>Author</th>\r\n\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{filterData.length === 0 ? (\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<h3>No Data Found</h3>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tfilterData.map((book) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={book._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{book.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{book.author}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>â‚¹{book.price}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<button id={book._id} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd to cart\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}