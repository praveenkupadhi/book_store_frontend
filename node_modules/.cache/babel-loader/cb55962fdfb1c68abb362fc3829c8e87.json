{"ast":null,"code":"import { BOOK_DATA_FETCH_FAILURE, BOOK_DATA_FETCH_REQUEST, BOOK_DATA_FETCH_SUCCESS, BOOK_DATA_SEARCH_FAILURE, BOOK_DATA_SEARCH_REQUEST, BOOK_DATA_SEARCH_SUCCESS, CART_DATA_FETCH_FAILURE, CART_DATA_FETCH_REQUEST, CART_DATA_FETCH_SUCCESS } from \"./actionTypes\";\nconst initState = {\n  booksData: [],\n  filterData: [],\n  cartData: [],\n  loading: true,\n  error: \"No error\"\n};\nexport const reducer = function () {\n  let store = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case BOOK_DATA_FETCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case BOOK_DATA_FETCH_SUCCESS:\n      return { ...store,\n        booksData: payload,\n        filterData: payload,\n        loading: false\n      };\n\n    case BOOK_DATA_FETCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    case BOOK_DATA_SEARCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case BOOK_DATA_SEARCH_SUCCESS:\n      return { ...store,\n        filterData: store.booksData.filter(book => book.name.toLowerCase().includes(payload.toLowerCase()) || book.author.toLowerCase().includes(payload.toLowerCase())),\n        loading: false\n      };\n\n    case BOOK_DATA_SEARCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    case CART_DATA_FETCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case CART_DATA_FETCH_SUCCESS:\n      return { ...store,\n        cartData: payload.length === 0 ? payload : [...store.cartData, payload],\n        loading: false\n      };\n\n    case CART_DATA_FETCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    default:\n      return store;\n  }\n};","map":{"version":3,"sources":["D:/Assignments/Placements/book_store/frontend/src/components/redux/reducer.js"],"names":["BOOK_DATA_FETCH_FAILURE","BOOK_DATA_FETCH_REQUEST","BOOK_DATA_FETCH_SUCCESS","BOOK_DATA_SEARCH_FAILURE","BOOK_DATA_SEARCH_REQUEST","BOOK_DATA_SEARCH_SUCCESS","CART_DATA_FETCH_FAILURE","CART_DATA_FETCH_REQUEST","CART_DATA_FETCH_SUCCESS","initState","booksData","filterData","cartData","loading","error","reducer","store","type","payload","filter","book","name","toLowerCase","includes","author","length"],"mappings":"AAAA,SACCA,uBADD,EAECC,uBAFD,EAGCC,uBAHD,EAICC,wBAJD,EAKCC,wBALD,EAMCC,wBAND,EAOCC,uBAPD,EAQCC,uBARD,EASCC,uBATD,QAUO,eAVP;AAYA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,SAAS,EAAE,EADM;AAEjBC,EAAAA,UAAU,EAAE,EAFK;AAGjBC,EAAAA,QAAQ,EAAE,EAHO;AAIjBC,EAAAA,OAAO,EAAE,IAJQ;AAKjBC,EAAAA,KAAK,EAAE;AALU,CAAlB;AAQA,OAAO,MAAMC,OAAO,GAAG,YAA0C;AAAA,MAAzCC,KAAyC,uEAAjCP,SAAiC;AAAA,MAAtB;AAAEQ,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAsB;;AAChE,UAAQD,IAAR;AACC,SAAKhB,uBAAL;AACC,aAAO,EAAE,GAAGe,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKX,uBAAL;AACC,aAAO,EACN,GAAGc,KADG;AAENN,QAAAA,SAAS,EAAEQ,OAFL;AAGNP,QAAAA,UAAU,EAAEO,OAHN;AAINL,QAAAA,OAAO,EAAE;AAJH,OAAP;;AAMD,SAAKb,uBAAL;AACC,aAAO,EAAE,GAAGgB,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD,SAAKT,wBAAL;AACC,aAAO,EAAE,GAAGY,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKR,wBAAL;AACC,aAAO,EACN,GAAGW,KADG;AAENL,QAAAA,UAAU,EAAEK,KAAK,CAACN,SAAN,CAAgBS,MAAhB,CACVC,IAAD,IACCA,IAAI,CAACC,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCL,OAAO,CAACI,WAAR,EAAjC,KACAF,IAAI,CAACI,MAAL,CAAYF,WAAZ,GAA0BC,QAA1B,CAAmCL,OAAO,CAACI,WAAR,EAAnC,CAHU,CAFN;AAONT,QAAAA,OAAO,EAAE;AAPH,OAAP;;AASD,SAAKV,wBAAL;AACC,aAAO,EAAE,GAAGa,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD,SAAKN,uBAAL;AACC,aAAO,EAAE,GAAGS,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKL,uBAAL;AACC,aAAO,EACN,GAAGQ,KADG;AAENJ,QAAAA,QAAQ,EAAEM,OAAO,CAACO,MAAR,KAAmB,CAAnB,GAAuBP,OAAvB,GAAiC,CAAC,GAAGF,KAAK,CAACJ,QAAV,EAAoBM,OAApB,CAFrC;AAGNL,QAAAA,OAAO,EAAE;AAHH,OAAP;;AAKD,SAAKP,uBAAL;AACC,aAAO,EAAE,GAAGU,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD;AACC,aAAOG,KAAP;AArCF;AAuCA,CAxCM","sourcesContent":["import {\r\n\tBOOK_DATA_FETCH_FAILURE,\r\n\tBOOK_DATA_FETCH_REQUEST,\r\n\tBOOK_DATA_FETCH_SUCCESS,\r\n\tBOOK_DATA_SEARCH_FAILURE,\r\n\tBOOK_DATA_SEARCH_REQUEST,\r\n\tBOOK_DATA_SEARCH_SUCCESS,\r\n\tCART_DATA_FETCH_FAILURE,\r\n\tCART_DATA_FETCH_REQUEST,\r\n\tCART_DATA_FETCH_SUCCESS,\r\n} from \"./actionTypes\";\r\n\r\nconst initState = {\r\n\tbooksData: [],\r\n\tfilterData: [],\r\n\tcartData: [],\r\n\tloading: true,\r\n\terror: \"No error\",\r\n};\r\n\r\nexport const reducer = (store = initState, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase BOOK_DATA_FETCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase BOOK_DATA_FETCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tbooksData: payload,\r\n\t\t\t\tfilterData: payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase BOOK_DATA_FETCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tcase BOOK_DATA_SEARCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase BOOK_DATA_SEARCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tfilterData: store.booksData.filter(\r\n\t\t\t\t\t(book) =>\r\n\t\t\t\t\t\tbook.name.toLowerCase().includes(payload.toLowerCase()) ||\r\n\t\t\t\t\t\tbook.author.toLowerCase().includes(payload.toLowerCase())\r\n\t\t\t\t),\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase BOOK_DATA_SEARCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tcase CART_DATA_FETCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase CART_DATA_FETCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tcartData: payload.length === 0 ? payload : [...store.cartData, payload],\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase CART_DATA_FETCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tdefault:\r\n\t\t\treturn store;\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}