{"ast":null,"code":"import { BOOK_DATA_FETCH_FAILURE, BOOK_DATA_FETCH_REQUEST, BOOK_DATA_FETCH_SUCCESS, BOOK_DATA_SEARCH_FAILURE, BOOK_DATA_SEARCH_REQUEST, BOOK_DATA_SEARCH_SUCCESS, CART_DATA_COUNT_FAILURE, CART_DATA_COUNT_REQUEST, CART_DATA_COUNT_SUCCESS, CART_DATA_FETCH_FAILURE, CART_DATA_FETCH_REQUEST, CART_DATA_FETCH_SUCCESS } from \"./actionTypes\";\nconst initState = {\n  booksData: [],\n  filterData: [],\n  cartData: [],\n  cartCount: 0,\n  loading: true,\n  error: \"No error\"\n};\nexport const reducer = function () {\n  let store = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case BOOK_DATA_FETCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case BOOK_DATA_FETCH_SUCCESS:\n      return { ...store,\n        booksData: payload,\n        filterData: payload,\n        loading: false\n      };\n\n    case BOOK_DATA_FETCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    case BOOK_DATA_SEARCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case BOOK_DATA_SEARCH_SUCCESS:\n      return { ...store,\n        filterData: store.booksData.filter(book => book.name.toLowerCase().includes(payload.toLowerCase()) || book.author.toLowerCase().includes(payload.toLowerCase())),\n        loading: false\n      };\n\n    case BOOK_DATA_SEARCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    case CART_DATA_FETCH_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case CART_DATA_FETCH_SUCCESS:\n      return { ...store,\n        cartData: payload.length === 0 ? payload : [...store.cartData, payload],\n        loading: false\n      };\n\n    case CART_DATA_FETCH_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    case CART_DATA_COUNT_REQUEST:\n      return { ...store,\n        loading: true\n      };\n\n    case CART_DATA_COUNT_SUCCESS:\n      return { ...store,\n        cartCount: payload,\n        loading: false\n      };\n\n    case CART_DATA_COUNT_FAILURE:\n      return { ...store,\n        error: payload,\n        loading: false\n      };\n\n    default:\n      return store;\n  }\n};","map":{"version":3,"sources":["D:/Assignments/Placements/book_store/frontend/src/components/redux/reducer.js"],"names":["BOOK_DATA_FETCH_FAILURE","BOOK_DATA_FETCH_REQUEST","BOOK_DATA_FETCH_SUCCESS","BOOK_DATA_SEARCH_FAILURE","BOOK_DATA_SEARCH_REQUEST","BOOK_DATA_SEARCH_SUCCESS","CART_DATA_COUNT_FAILURE","CART_DATA_COUNT_REQUEST","CART_DATA_COUNT_SUCCESS","CART_DATA_FETCH_FAILURE","CART_DATA_FETCH_REQUEST","CART_DATA_FETCH_SUCCESS","initState","booksData","filterData","cartData","cartCount","loading","error","reducer","store","type","payload","filter","book","name","toLowerCase","includes","author","length"],"mappings":"AAAA,SACCA,uBADD,EAECC,uBAFD,EAGCC,uBAHD,EAICC,wBAJD,EAKCC,wBALD,EAMCC,wBAND,EAOCC,uBAPD,EAQCC,uBARD,EASCC,uBATD,EAUCC,uBAVD,EAWCC,uBAXD,EAYCC,uBAZD,QAaO,eAbP;AAeA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,SAAS,EAAE,EADM;AAEjBC,EAAAA,UAAU,EAAE,EAFK;AAGjBC,EAAAA,QAAQ,EAAE,EAHO;AAIjBC,EAAAA,SAAS,EAAE,CAJM;AAKjBC,EAAAA,OAAO,EAAE,IALQ;AAMjBC,EAAAA,KAAK,EAAE;AANU,CAAlB;AASA,OAAO,MAAMC,OAAO,GAAG,YAA0C;AAAA,MAAzCC,KAAyC,uEAAjCR,SAAiC;AAAA,MAAtB;AAAES,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAsB;;AAChE,UAAQD,IAAR;AACC,SAAKpB,uBAAL;AACC,aAAO,EAAE,GAAGmB,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKf,uBAAL;AACC,aAAO,EACN,GAAGkB,KADG;AAENP,QAAAA,SAAS,EAAES,OAFL;AAGNR,QAAAA,UAAU,EAAEQ,OAHN;AAINL,QAAAA,OAAO,EAAE;AAJH,OAAP;;AAMD,SAAKjB,uBAAL;AACC,aAAO,EAAE,GAAGoB,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD,SAAKb,wBAAL;AACC,aAAO,EAAE,GAAGgB,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKZ,wBAAL;AACC,aAAO,EACN,GAAGe,KADG;AAENN,QAAAA,UAAU,EAAEM,KAAK,CAACP,SAAN,CAAgBU,MAAhB,CACVC,IAAD,IACCA,IAAI,CAACC,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCL,OAAO,CAACI,WAAR,EAAjC,KACAF,IAAI,CAACI,MAAL,CAAYF,WAAZ,GAA0BC,QAA1B,CAAmCL,OAAO,CAACI,WAAR,EAAnC,CAHU,CAFN;AAONT,QAAAA,OAAO,EAAE;AAPH,OAAP;;AASD,SAAKd,wBAAL;AACC,aAAO,EAAE,GAAGiB,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD,SAAKP,uBAAL;AACC,aAAO,EAAE,GAAGU,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKN,uBAAL;AACC,aAAO,EACN,GAAGS,KADG;AAENL,QAAAA,QAAQ,EAAEO,OAAO,CAACO,MAAR,KAAmB,CAAnB,GAAuBP,OAAvB,GAAiC,CAAC,GAAGF,KAAK,CAACL,QAAV,EAAoBO,OAApB,CAFrC;AAGNL,QAAAA,OAAO,EAAE;AAHH,OAAP;;AAKD,SAAKR,uBAAL;AACC,aAAO,EAAE,GAAGW,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD,SAAKV,uBAAL;AACC,aAAO,EAAE,GAAGa,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACD,SAAKT,uBAAL;AACC,aAAO,EACN,GAAGY,KADG;AAENJ,QAAAA,SAAS,EAAEM,OAFL;AAGNL,QAAAA,OAAO,EAAE;AAHH,OAAP;;AAKD,SAAKX,uBAAL;AACC,aAAO,EAAE,GAAGc,KAAL;AAAYF,QAAAA,KAAK,EAAEI,OAAnB;AAA4BL,QAAAA,OAAO,EAAE;AAArC,OAAP;;AACD;AACC,aAAOG,KAAP;AA/CF;AAiDA,CAlDM","sourcesContent":["import {\r\n\tBOOK_DATA_FETCH_FAILURE,\r\n\tBOOK_DATA_FETCH_REQUEST,\r\n\tBOOK_DATA_FETCH_SUCCESS,\r\n\tBOOK_DATA_SEARCH_FAILURE,\r\n\tBOOK_DATA_SEARCH_REQUEST,\r\n\tBOOK_DATA_SEARCH_SUCCESS,\r\n\tCART_DATA_COUNT_FAILURE,\r\n\tCART_DATA_COUNT_REQUEST,\r\n\tCART_DATA_COUNT_SUCCESS,\r\n\tCART_DATA_FETCH_FAILURE,\r\n\tCART_DATA_FETCH_REQUEST,\r\n\tCART_DATA_FETCH_SUCCESS,\r\n} from \"./actionTypes\";\r\n\r\nconst initState = {\r\n\tbooksData: [],\r\n\tfilterData: [],\r\n\tcartData: [],\r\n\tcartCount: 0,\r\n\tloading: true,\r\n\terror: \"No error\",\r\n};\r\n\r\nexport const reducer = (store = initState, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase BOOK_DATA_FETCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase BOOK_DATA_FETCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tbooksData: payload,\r\n\t\t\t\tfilterData: payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase BOOK_DATA_FETCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tcase BOOK_DATA_SEARCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase BOOK_DATA_SEARCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tfilterData: store.booksData.filter(\r\n\t\t\t\t\t(book) =>\r\n\t\t\t\t\t\tbook.name.toLowerCase().includes(payload.toLowerCase()) ||\r\n\t\t\t\t\t\tbook.author.toLowerCase().includes(payload.toLowerCase())\r\n\t\t\t\t),\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase BOOK_DATA_SEARCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tcase CART_DATA_FETCH_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase CART_DATA_FETCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tcartData: payload.length === 0 ? payload : [...store.cartData, payload],\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase CART_DATA_FETCH_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tcase CART_DATA_COUNT_REQUEST:\r\n\t\t\treturn { ...store, loading: true };\r\n\t\tcase CART_DATA_COUNT_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...store,\r\n\t\t\t\tcartCount: payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase CART_DATA_COUNT_FAILURE:\r\n\t\t\treturn { ...store, error: payload, loading: false };\r\n\t\tdefault:\r\n\t\t\treturn store;\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}